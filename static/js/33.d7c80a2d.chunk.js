(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[33],{1465:function(e,a,t){"use strict";var c,i,s=t(57),l=t(367),n=t(80),d=t(14),r=t(75),o=t(9),j=(t(93),t(1505)),b=t(65),h=t(23),m=t(21),u=t(6),v=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],O=Object(b.a)(j.a)(c||(c=Object(r.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),x=b.a.span(i||(i=Object(r.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));a.a=function(e){var a=Object(o.useState)(Object(u.jsx)("span",{className:"loading-line"})),t=Object(d.a)(a,2),c=t[0],i=t[1],r=Object(o.useState)(!0),j=Object(d.a)(r,2),b=j[0],f=j[1],p=function(){var a=e.allowZero;return"object"!==Object(n.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===a},N=function(e){return e&&e.replace(/\.$/,"")};return Object(o.useEffect)((function(){var a=e.allowZero,t=(e.wallet,e.closeShowLoadingEffectAfterLoaded),c=e.defaultValue,n=void 0===c?"--":c,d=Object(l.a)(e,v);if(p())d.decimalScale>0&&d.value&&/\d+\.0*[1-9]+/.test(d.value)&&!a&&0===+Object(m.bg)(d.value).toFixed(+d.decimalScale||2)&&(d.decimalScale=Object(h.g)(Math.abs(d.value))+2),(-1===d.decimalScale||0===+d.value&&a)&&delete d.decimalScale,d.value=/e(\+|=)?/.test(d.value)?Object(h.P)(d.value):""+d.value,d.value&&/\d+.9{6}/.test(d.value)&&(d.value=(+d.value).toFixed(5)),i(Object(u.jsx)(O,Object(s.a)(Object(s.a)({},d),{},{renderText:N,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(b){var r=e.width,o=e.height;i(Object(u.jsx)(x,{className:"loading-line",width:r,height:o})),t&&f(!1)}var j=window.setTimeout((function(){p()||i(n)}),n===d.value?0:6e4);return function(){clearTimeout(j)}}),[e.value,e.decimalScale,e.suffix]),c}},2398:function(e,a,t){},2608:function(e,a,t){"use strict";t.r(a);var c=t(9),i=t(66),s=t(88),l=t.n(s),n=t(1465),d=(t(2398),t(31)),r=t(288);const{GraphQLClient:o}=t(288),j=new o("https://graph.deri.io/graphql",{});function b(e,a){return j.request(e,a)}var h=t(23),m=t(176),u=t(6);a.default=Object(i.b)("wallet")(Object(i.c)((function(){const[e,a]=Object(c.useState)([]),[t,i]=Object(c.useState)(30),[s,o]=Object(c.useState)(30),[j,v]=Object(c.useState)({}),{account:O}=Object(m.b)(),x=Object(c.useCallback)((async()=>{let e=r.gql`
      query ($chainId: Int!, $fromTimestamp: Int!) {
        tradePnl(where: { chainId: $chainId, fromTimestamp: $fromTimestamp }) {
          account
          chainId
          liquidationLoss
          notional
          pnl
          tradeFee
          tradePnl
        }
      }
    `,t=0,c=(new Date).getTime()/1e3;7===s&&(t=c-604800),30===s&&(t=c-2592e3);let i={chainId:42161,fromTimestamp:parseInt(String(t))},l=await b(e,i);if(l.tradePnl.length){let e=l.tradePnl;e=e.slice(0,50),a(e)}}),[s]),f=Object(c.useCallback)((async()=>{let e=r.gql`
      query ($chainId: Int!, $fromTimestamp: Int!, $account: String) {
        tradePnl(
          where: {
            account: $account
            chainId: $chainId
            fromTimestamp: $fromTimestamp
          }
        ) {
          account
          chainId
          liquidationLoss
          notional
          pnl
          tradeFee
          tradePnl
        }
      }
    `,a=0,c=(new Date).getTime()/1e3;7===t&&(a=c-604800),30===t&&(a=c-2592e3);let i={account:O,chainId:56,fromTimestamp:parseInt(String(a))},s=await b(e,i);if(s.tradePnl.length){let e=s.tradePnl[0];v(e)}else v({tradeFee:0,pnl:0,notional:0})}),[t,O]);return Object(c.useEffect)((()=>{x()}),[s]),Object(c.useEffect)((()=>{O&&f()}),[O,t]),Object(u.jsx)("div",{className:"Leaderboard",children:Object(u.jsxs)("div",{className:"Leaderboard-box",children:[Object(u.jsxs)("div",{className:"my-historical-trading",children:[Object(u.jsxs)("div",{className:"title-tab-day",children:[Object(u.jsx)("div",{className:"title-leaderboard",children:"My Historical Trading Performance"}),Object(u.jsxs)("div",{className:"tab-day",children:[Object(u.jsx)("div",{className:l()("day-btn",{active:7===t}),onClick:()=>{i(7)},children:"7 DAYS"}),Object(u.jsx)("div",{className:l()("day-btn",{active:30===t}),onClick:()=>{i(30)},children:"30 DAYS"})]})]}),Object(u.jsxs)("div",{className:"my-info-list",children:[Object(u.jsxs)("div",{className:"info-box",children:[Object(u.jsxs)("div",{className:"info-num",children:[" ",Object(u.jsx)(n.a,{prefix:"$ ",value:j.notional,decimalScale:2})]}),Object(u.jsx)("div",{className:"info-title",children:" Notional "})]}),Object(u.jsxs)("div",{className:"info-box",children:[Object(u.jsx)("div",{className:"info-num",children:Object(u.jsx)(n.a,{prefix:"$ ",value:+j.tradeFee,decimalScale:2})}),Object(u.jsx)("div",{className:"info-title",children:" Transaction Fee "})]}),Object(u.jsxs)("div",{className:"info-box",children:[Object(u.jsxs)("div",{className:"info-num",children:[" ",Object(u.jsx)(n.a,{prefix:"$ ",value:+j.pnl,decimalScale:2})]}),Object(u.jsx)("div",{className:"info-title",children:" PNL "})]})]})]}),Object(u.jsxs)("div",{className:"rankings",children:[Object(u.jsxs)("div",{className:"rankings-title-tab-day",children:[Object(u.jsx)("div",{className:"rankings-title",children:"Rankings"}),Object(u.jsxs)("div",{className:"tab-day",children:[Object(u.jsx)("div",{className:l()("day-btn",{active:7===s}),onClick:()=>{o(7)},children:"7 DAYS"}),Object(u.jsx)("div",{className:l()("day-btn",{active:30===s}),onClick:()=>{o(30)},children:"30 DAYS"})]})]}),Object(u.jsxs)("div",{className:"rankings-list-title",children:[Object(u.jsx)("div",{className:"rank",children:"Rank"}),Object(u.jsx)("div",{className:"trade",children:"Trade"}),Object(u.jsx)("div",{className:"notional",children:"Notional"}),Object(u.jsx)("div",{className:"transaction-fee",children:"Transaction Fee"}),Object(u.jsx)("div",{className:"pnl",children:"PNL"})]}),Object(u.jsx)("div",{className:"rankings-list-num",children:e.map(((e,a)=>Object(u.jsxs)("div",{className:"rankings-list-num-box",children:[Object(u.jsxs)("div",{className:"rank",children:[a+1===1&&Object(u.jsx)(d.a,{token:"topOne",width:void 0,height:void 0,secondary:void 0,className:void 0,onClick:void 0}),a+1===2&&Object(u.jsx)(d.a,{token:"topTwo",width:void 0,height:void 0,secondary:void 0,className:void 0,onClick:void 0}),a+1===3&&Object(u.jsx)(d.a,{token:"topThree",width:void 0,height:void 0,secondary:void 0,className:void 0,onClick:void 0}),a+1>3&&Object(u.jsx)("span",{className:"top-num",children:a+1})]}),Object(u.jsx)("div",{className:"trade",children:Object(h.l)(e.account)}),Object(u.jsxs)("div",{className:"notional",children:["$"," ",Object(u.jsx)(n.a,{value:e.notional,displayType:"text",decimalScale:2})]}),Object(u.jsxs)("div",{className:"transaction-fee",children:["$"," ",Object(u.jsx)(n.a,{value:+e.tradeFee,displayType:"text",decimalScale:2})]}),Object(u.jsxs)("div",{className:l()("pnl",{up:+e.pnl>0,down:+e.pnl<0}),children:[+e.pnl>0?"+":"",Object(u.jsx)(n.a,{value:+e.pnl,displayType:"text",decimalScale:2,prefix:"$ "})]})]},a)))})]})]})})})))}}]);
//# sourceMappingURL=33.d7c80a2d.chunk.js.map