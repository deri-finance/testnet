(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[18],{1492:function(e,t,a){"use strict";var n,i,c=a(68),s=a(392),l=a(87),o=a(12),r=a(92),d=a(9),b=(a(107),a(1540)),u=a(73),j=a(25),p=a(20),h=a(6),x=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],m=Object(u.a)(b.a)(n||(n=Object(r.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),f=u.a.span(i||(i=Object(r.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(h.jsx)("span",{className:"loading-line"})),a=Object(o.a)(t,2),n=a[0],i=a[1],r=Object(d.useState)(!0),b=Object(o.a)(r,2),u=b[0],O=b[1],v=function(){var t=e.allowZero;return"object"!==Object(l.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},g=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,a=(e.wallet,e.closeShowLoadingEffectAfterLoaded),n=e.defaultValue,l=void 0===n?"--":n,o=Object(s.a)(e,x);if(v())o.decimalScale>0&&o.value&&/\d+\.0*[1-9]+/.test(o.value)&&!t&&0===+Object(p.bg)(o.value).toFixed(+o.decimalScale||2)&&(o.decimalScale=Object(j.g)(Math.abs(o.value))+2),(-1===o.decimalScale||0===+o.value&&t)&&delete o.decimalScale,o.value=/e(\+|=)?/.test(o.value)?Object(j.P)(o.value):""+o.value,o.value&&/\d+.9{6}/.test(o.value)&&(o.value=(+o.value).toFixed(5)),i(Object(h.jsx)(m,Object(c.a)(Object(c.a)({},o),{},{renderText:g,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(u){var r=e.width,d=e.height;i(Object(h.jsx)(f,{className:"loading-line",width:r,height:d})),a&&O(!1)}var b=window.setTimeout((function(){v()||i(l)}),l===o.value?0:6e4);return function(){clearTimeout(b)}}),[e.value,e.decimalScale,e.suffix]),n}},1535:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n,i=a(12),c=a(92),s=a(9),l=a(237),o=a(73),r=a(6),d=o.a.div(n||(n=Object(c.a)(["\n    display : flex;\n    width: 100%;\n    justify-content: space-between;\n  "])));function b(e){var t=e.groups,a=void 0===t?["25%","50%","75%","100%"]:t,n=e.selectedBorderColor,c=e.defaultBorderColor,o=e.onChange,b=e.defaultValue,u=e.outline,j=e.outlineColor,p=e.width,h=e.height,x=e.bgColor,m=e.className,f=e.disabled,O=e.canUnselected,v=void 0===O||O,g=Object(s.useState)(b),y=Object(i.a)(g,2),k=y[0],w=y[1];return Object(s.useEffect)((function(){w(b)}),[b]),Object(r.jsx)(d,{className:m,children:a.map((function(e,t){return Object(r.jsx)(l.a,{label:e,selectedBorderColor:n,isSelected:e===k,disabled:f,outline:u,bgColor:x,className:"g-button",defaultBorderColor:c,outlineColor:j,width:p,height:h,onClick:function(){var t;(t=e)!==k?(w(t),o&&o(t)):v&&t===k?(w(""),o&&o("")):w(t)}},t)}))})}},1552:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n,i=a(68),c=a(92),s=a(9),l=a(73),o=a(20),r=a(310),d=a(6),b=l.a.div(n||(n=Object(c.a)(["\ndisplay : flex;\nfont-size : 14px;\nalign-items : center;\nbackground: rgba(85, 119, 253, 0.1);\nborder-radius: 4px;\njustify-content: space-between;\ninput {\n  background: transparent;\n  border-radius: 4px;\n  // min-width: 240px;\n  border: 0;\n  width : ",";\n  height: ",";\n  color : #E0ECFF;\n  font-size : 18px;\n  padding-left: 16px;\n}\ninput:focus {\n  outline: none;\n}\n.unit {\n  margin-right: ",";\n}\n"])),(function(e){return e.inputWidth}),(function(e){return e.inputHeight}),(function(e){return e.unitPadding}));function u(e){var t=e.value,a=e.unit,n=e.unitTip,c=e.max,l=e.step,u=e.onChange,j=e.styles,p=void 0===j?{}:j,h=e.disableNegtive,x=void 0===h||h,m=e.focus,f=e.placeholder,O=void 0===f?"":f,v=e.unitPadding,g=void 0===v?"24px":v,y=e.minTradeVolume,k=e.decimal,w=void 0===k?2:k,S=e.readOnly,N=e.inputWidth,T=void 0===N?"50%":N,C=e.inputHeight,A=void 0===C?"56px":C,I=e.className,E=e.disabled,_=void 0!==E&&E,D=e.onBlur,F=e.onFocus,B=Object(s.useRef)(null);return Object(s.useEffect)((function(){B.current.setCustomValidity(""),B.current&&m&&B.current.focus()}),[m]),Object(d.jsxs)(b,{unitPadding:g,inputWidth:T,inputHeight:A,className:I,style:Object(i.a)({},p),children:[Object(d.jsx)("input",{placeholder:O,type:"number",title:"",onKeyPress:function(e){46!==e.which&&8!==e.which&&0!==e.which&&(e.which<48||e.which>57)&&e.preventDefault()},onBlur:D,onFocus:F,disabled:_,value:t,step:isNaN(l)?0:l,ref:B,onChange:function(e){var t="\\d+\\.\\d{0,".concat(w,"}$"),a=new RegExp(t),n=e.target.value;if(c&&Object(o.bg)(n).gt(c))u&&u(c);else if(x&&(n<0||isNaN(n)))u&&u("");else if(n){if(y>=1)if(n/y>=1)u&&u(Object(o.bg)(n).div(y).integerValue()*y);else u&&u(n*y);else if(/\d+\./.test(n)&&!a.test(n)){var i=n.substring(0,n.indexOf(".")+1+w);u&&u(i)}else u&&u(n)}else u&&u(n)},readOnly:S}),Object(d.jsx)("div",{className:"unit",children:n?Object(d.jsx)(r.a,{tip:n,text:a}):a})]})}},1560:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(73),i=a(9),c=a(34),s=a(6);const l=n.a.div`
    cursor: pointer;
    width:${e=>e.width}px;
    height:${e=>e.height}px;
    display:flex;
    .tab-left.inactive{
      border-radius:0px 0px 4px 0px;
    }
    .tab-right.inactive{
      border-radius:0px 0px 0px 4px;
    }
    .tab-left.active{
      border-radius:0px 4px 0px 0px;
      ${e=>e.borderR};
    }
    .tab-right.active{
      border-radius:4px 0px 0px 0px;
      ${e=>e.borderL};
    }
    .inactive,.active{
      width:50%;
      box-sizing: content-box;
      font-size:${e=>e.size}px;
      display: flex;
      align-items: center;
      justify-content: center;
      img{
        margin-right:${e=>e.iconMarginRight}px
      }
    }
    .inactive{
      background:${e=>e.inactiveBgColor};
      ${e=>e.borderB}
    }
    .active {
      color: ${e=>e.activeFontColor};
      background : ${e=>e.activeBgColor};
      ${e=>e.borderT};
    }
    .icon-tab{
      margin-right:20px;
      width:25px;
      height:25px;
    }
  `;function o(e){let{tabSet:t,inactiveBgColor:a,iconMarginRight:n,activeBgColor:o,icon:r,className:d,width:b=238,height:u=47,size:j=16,borderTop:p=!1,borderBottom:h=!1,divider:x=!1,activeIndex:m=0}=e,f=Object.keys(t);const[O,v]=Object(i.useState)(f[m]),[g,y]=Object(i.useState)(),[k,w]=Object(i.useState)(),[S,N]=Object(i.useState)(),[T,C]=Object(i.useState)(),[A,I]=Object(i.useState)(),[E,_]=Object(i.useState)();return Object(i.useEffect)((()=>{const e=Object.keys(t);v(e[m])}),[t,m]),Object(i.useEffect)((()=>{const e=Object.keys(t);let a=O||e[m];if(t[a]){y(t[a].style);let e=p?`border-top:1px solid ${t[a].borderColor}`:"border-top:0",n=h?`border-bottom:1px solid ${t[a].borderColor}`:"border-bottom:0",i=x?`border-left:1px solid ${t[a].borderColor}`:"border-left:0",c=x?`border-right:1px solid ${t[a].borderColor}`:"border-right:0",s=t[a].fontColor?t[a].fontColor:"#FFFFFF";w(e),N(i),C(n),I(c),_(s)}}),[t,O]),Object(s.jsxs)("div",{style:g,className:d,children:[Object(s.jsx)(l,{className:"tab-header",iconMarginRight:n,width:b,height:u,activeFontColor:E,activeBgColor:o,inactiveBgColor:a,size:j,borderT:k,borderB:T,borderL:S,borderR:A,children:f.map(((e,a)=>Object(s.jsxs)("div",{className:e===O?`${t[e].direction||t[e].className} active`:`${t[e].direction||t[e].className} inactive`,onClick:t=>function(e,t){v(e)}(e),children:[t[e].icon?Object(s.jsx)(c.a,{width:t[e].iconWidth,height:t[e].iconHeight,token:e===O?t[e].icon:t[e].inicon}):"","  ",e]},a)))}),t[O]?t[O].content:""]})}},1584:function(e,t,a){"use strict";var n,i=a(92),c=a(25),s=a(1541),l=a(73),o=(a(310),a(181)),r=a(6),d=l.a.div(n||(n=Object(i.a)(["\n&.custom-tooltip {\n  padding: 0 0 0 10px;\n  color: #E0ECFF;\n  z-index: 2;\n  .tip-title {\n    font-size: 16px;\n    color: #E0ECFF;\n  }\n  .value {\n    font-size: 32px;\n    font-weight : 700;\n    font-family : Barlow;\n  }\n  .date {\n    margin-top: 4px;\n    margin-left: 4px;\n    font-size: 14px;\n    height: 14px;\n  }\n  .text{\n    border-bottom : 1px dashed #93A1B8;\n    width : max-content;\n    cursor : pointer;\n    display:block\n  }\n}\n"])));t.a=function(e){var t=e.title,a=e.active,n=e.payload,i=(e.label,e.lastItem),l=e.decimalScale,b=void 0===l?2:l,u=e.tip,j=e.id,p=void 0===j?String((new Date).getTime())+Math.random():j,h=e.isTime,x=void 0!==h&&h;return a&&n&&n.length?Object(r.jsxs)(d,{className:"custom-tooltip",children:[Object(r.jsx)("div",{className:"tip-title",children:t}),Object(r.jsxs)("div",{className:"value",children:[n[0].payload.name&&n[0].payload.name,u?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{"data-for":p,"data-tip":u,className:"text",children:Object(c.f)(n[0].payload.value,b)}),Object(r.jsxs)(o.a,{id:p,width:400,padding:"12",place:"bottom",children:[" ",u," "]})]}):Object(c.f)(n[0].payload.value,b)]}),Object(r.jsx)("div",{className:"date",children:n[0].payload.time&&"".concat(Object(s.a)(new Date(1e3*n[0].payload.time),"UTC:yyyy-mm-dd"),"(UTC)")})]}):t&&i.value?Object(r.jsxs)(d,{className:"custom-tooltip",children:[Object(r.jsx)("div",{className:"tip-title",children:t}),Object(r.jsxs)("div",{className:"value",children:[" ",i.name&&i.name," ",u?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{"data-for":p,"data-tip":u,className:"text",children:Object(c.f)(i.value,b)}),Object(r.jsxs)(o.a,{width:400,id:p,padding:"12",place:"bottom",children:[" ",u," "]})]}):Object(c.f)(i.value,b)]}),Object(r.jsx)("div",{className:"date",children:x?i.timestamp&&"".concat(Object(s.a)(new Date(1e3*i.timestamp),"UTC:yyyy-mm-dd hh:MM:ss"),"(UTC)"):i.timestamp&&"".concat(Object(s.a)(new Date(1e3*i.timestamp),"UTC:yyyy-mm-dd"),"(UTC)")})]}):null}},1603:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(9),i=a(73),c=a(594),s=a(6);const l=i.a.div`
  .search-token{
  width: ${e=>e.width}px;
  height: ${e=>e.height}px;
  background: ${e=>e.bgColor};
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding:0 24px;
  border-radius:4px;
  img{
    width:18px;
    height:18px;
  }
  .search-input{
    border: 0;
    width:100%;
    height: 100%;
    background:transparent;
    outline-style: none;
    color: #FFFFFF;
    font-size: 18px;
    border-radius: 4px;
  }
}
`;function o(e){let{list:t,onChange:a,width:i="320",height:o="48",bgColor:r="rgba(85, 119, 253, 0.1)",searchName:d="bTokenSymbol",className:b,placeholder:u="Search",onFocus:j,onBlur:p}=e;const[h,x]=Object(n.useState)(""),[m,f]=Object(n.useState)(0),O=Object(n.useRef)([]);return Object(n.useEffect)((()=>{if(h){let e=h.toLocaleUpperCase();0===O.current.length&&(O.current=t,f(t.length));const n=O.current.filter((t=>t[d]&&t[d].toUpperCase().indexOf(e)>=0));a(n,e)}else a(O.current)}),[h]),Object(n.useEffect)((()=>{0===O.current.length&&f(t.length)}),[t]),Object(s.jsx)(l,{width:i,height:o,bgColor:r,className:b,children:Object(s.jsxs)("div",{className:"search-token",children:[Object(s.jsx)("input",{type:"text",className:"search-input",placeholder:u,value:h,onChange:e=>{(e=>{let t=e.target.value;x(t)})(e)}}),Object(s.jsx)("img",{src:c.default,alt:""})]})})}},1634:function(e,t,a){},1636:function(e,t,a){"use strict";var n,i=a(92),c=a(1535),s=a(73),l=a(25),o=a(6),r=s.a.div(n||(n=Object(i.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 70px;\n  margin-right: 32px;\n  .filter{\n    justify-content: flex-end;\n    .g-button {\n      margin-left: 8px ;\n    }\n  }\n"])));t.a=function(e){var t=e.url,a=e.onChange,n=e.cycleArr,i=void 0===n?["7D","30D"]:n,s=e.className,d=void 0===s?"":s,b=i,u=Object(l.E)()?64:96;return Object(o.jsx)(r,{className:d,children:Object(o.jsx)(c.a,{groups:b,selectedBorderColor:"rgba(205, 122, 55)",defaultValue:b[b.length-1],defaultBorderColor:"rgba(85, 119, 253, 0.1)",bgColor:"rgba(85, 119, 253, 0.1)",className:"filter",width:u,height:"32",onChange:function(e){var n=new URL(t),i=n.searchParams;i.has("cycle")&&i.delete("cycle"),i.append("cycle",e),a(n.toString())},outline:!0,outlineColor:"rgba(205, 122, 55, 0.5)"})})}},1637:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(2),i=a(12),c=a(0),s=a.n(c),l=a(9),o=a(114),r=a.n(o),d=a(2619),b=a(2620),u=a(2625),j=a(1799),p=a(1800),h=a(2608),x=a(2397),m=a(1541),f=a(1584),O=a(25),v=a(6);function g(e){var t=e.url,a=e.title,c=e.domain,o=void 0!==c&&c,g=e.yMin,y=void 0===g?0:g,k=e.yMax,w=void 0===k?0:k,S=e.decimalScale,N=void 0===S?2:S,T=e.tip,C=e.height,A=void 0===C?300:C,I=e.isTime,E=void 0!==I&&I,_=Object(l.useState)(null),D=Object(i.a)(_,2),F=D[0],B=D[1],R=Object(l.useState)({}),L=Object(i.a)(R,2),q=L[0],P=L[1],U=Object(l.useState)({}),H=Object(i.a)(U,2),$=H[0],V=H[1],M=Object(l.useState)([0,"auto"]),W=Object(i.a)(M,2),z=W[0],K=W[1],Z=function(){var e=Object(n.a)(s.a.mark((function e(t){var a,n,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.get(t);case 2:a=e.sent,n=[],200===a.status&&Array.isArray(a.data.data)&&(n=a.data.data.sort((function(e,t){return e.timestamp>t.timestamp?1:e.timestamp<t.timestamp?-1:0})),a.data.current?P(a.data.current):n.length>0&&P(n[n.length-1]),o&&(i=Math.min.apply(Math,n.map((function(e){return e.value.toFixed(N)}))),c=Math.max.apply(Math,n.map((function(e){return e.value.toFixed(N)}))),K([+(i-y).toFixed(N),+(c+w).toFixed(N)]))),B(n.map((function(e){return{time:e.timestamp,value:Number(e.value)}})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){var e=document.querySelector(".graph").getBoundingClientRect();V(e),Z(t)}),[t]),F?Object(v.jsx)(d.a,{height:A,children:Object(v.jsxs)(b.a,{width:$.width,data:F,children:[Object(v.jsx)("defs",{children:Object(v.jsxs)("linearGradient",{id:"colorArea",x1:"0",y1:"1",x2:"0",y2:"0",children:[Object(v.jsx)("stop",{offset:"10%",stopColor:"#2772F0",stopOpacity:.1}),Object(v.jsx)("stop",{offset:"90%",stopColor:"#2772f0",stopOpacity:.3})]})}),Object(v.jsx)(u.a,{vertical:!1,strokeDasharray:"9",stroke:"#203B60"}),Object(v.jsx)(j.a,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fill:"#fff",fontSize:"14"},padding:{left:12,right:14},allowDataOverflow:!1,tickFormatter:function(e){return e&&"auto"!==e?Object(m.a)(new Date(1e3*e),"mm-dd"):""}}),Object(v.jsx)(p.a,{dataKey:"value",minTickGap:10,domain:z,tickLine:!1,axisLine:!1,tickFormatter:O.h,tick:{fill:"#fff",fontSize:"14"},padding:{top:65}}),Object(v.jsx)(h.a,{position:{x:16,y:-106},cursor:!1,content:Object(v.jsx)(f.a,{isTime:E,title:a,lastItem:q,decimalScale:N,tip:T})}),Object(v.jsx)(x.a,{type:"monotone",dataKey:"value",stroke:"#3756CD",fillOpacity:.5,strokeWidth:3,fill:"url(#colorArea)"})]})}):null}},1680:function(e,t,a){"use strict";t.a=a.p+"static/media/staked.46571832.svg"},1721:function(e,t,a){"use strict";var n=a(68),i=a(2),c=a(12),s=a(392),l=a(0),o=a.n(l),r=a(9),d=a(237),b=a(74),u=a(186),j=a(62),p=a(20),h=a(25),x=(a(1774),a(6));function m(){return Object(x.jsx)("div",{class:"sleepContentView",children:Object(x.jsx)("div",{class:"circle"})})}var f=a(34),O=(a(1775),["isBuried","lang","subject","wallet","pool","ignoreApprove","bTokenId","bToken","icon","label","onClick","isReady","disabled","statusCallback","alert"]);t.a=Object(b.b)("wallet")(Object(b.c)((function(e){var t=e.isBuried,a=void 0!==t&&t,l=e.lang,b=(e.subject,e.wallet),v=e.pool,g=void 0===v?{}:v,y=e.ignoreApprove,k=e.bTokenId,w=e.bToken,S=e.icon,N=e.label,T=e.onClick,C=(e.isReady,e.disabled),A=void 0!==C&&C,I=e.statusCallback,E=(e.alert,Object(s.a)(e,O)),_=Object(r.useState)(!1),D=Object(c.a)(_,2),F=D[0],B=D[1],R=Object(r.useState)(N),L=Object(c.a)(R,2),q=L[0],P=L[1],U=Object(r.useState)(!1),H=Object(c.a)(U,2),$=H[0],V=H[1],M=Object(r.useState)(!1),W=Object(c.a)(M,2),z=W[0],K=W[1],Z=Object(r.useState)(!0),X=Object(c.a)(Z,2),G=X[0],Y=X[1],Q=Object(r.useState)(!1),J=Object(c.a)(Q,2),ee=J[0],te=J[1],ae=Object(r.useState)(!1),ne=Object(c.a)(ae,2),ie=ne[0],ce=ne[1],se=Object(r.useState)(S),le=Object(c.a)(se,2),oe=le[0],re=le[1],de=Object(r.useCallback)(function(){var e=Object(i.a)(o.a.mark((function e(t,a){var n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,!t.detail||!a.address){e.next=18;break}if(!u.a.isOpen){e.next=5;break}return e.next=5,p.openConfigListCache.update();case 5:if(!Object(h.D)(a.address)){e.next=11;break}return e.next=8,j.a.request("isLpUnlocked",[t.detail.chainId,a.address,t.detail.account]);case 8:n=e.sent,e.next=17;break;case 11:if(!k&&!w){e.next=17;break}return i=[t.detail.chainId,a.address,t.detail.account,k||w],e.next=15,j.a.request("isUnlocked",i);case 15:n=e.sent,Y(n.isZero);case 17:return e.abrupt("return",n.isUnlocked);case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[w,k]),be=Object(r.useCallback)(Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b||!g){e.next=17;break}if(!u.a.isOpen){e.next=4;break}return e.next=4,p.openConfigListCache.update();case 4:if(!Object(h.D)(g.address)){e.next=10;break}return e.next=7,j.a.request("unlockLp",[b.detail.chainId,g.address,b.detail.account],{includeResponse:!0,write:!0,subject:l.approve,approveTip:G?"":"Changing approved amount may result tx failure",title:{text:"Approve",icon:w},content:{success:"Approve ".concat(w),error:"Transaction failed"}});case 7:t=e.sent,e.next=14;break;case 10:return n=[b.detail.chainId,g.address,b.detail.account,k||w],e.next=13,j.a.request("unlock",n,{write:!0,includeResponse:!0,subject:Object(h.k)(l.approve.toLowerCase()),approveTip:G?"":"Changing approved amount may result tx failure",title:{text:"Approve",icon:w},content:{success:"Approve ".concat(w),error:"Transaction Failed"}});case 13:t=e.sent;case 14:if(!t){e.next=17;break}return a&&Object(h.b)("account_deposit","deposit","wallet_comfirm__deposit_approval"),e.abrupt("return",t.success);case 17:case"end":return e.stop()}}),e)}))),[g,b,k,w]),ue=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(g&&b&&b.detail)){e.next=34;break}if(ce(!0),b.isConnected()){e.next=7;break}return re(null),e.abrupt("return",b.connect());case 7:if(e.t0=y,e.t0){e.next=12;break}return e.next=11,de(b,g);case 11:e.t0=e.sent;case 12:if(!e.t0){e.next=17;break}return re(S),e.abrupt("return",T(t));case 17:return re(S),a&&Object(h.b)("account_deposit","deposit","deposit_approve"),e.next=21,be();case 21:if(!(n=e.sent)){e.next=31;break}return K(!0),e.next=26,T();case 26:e.sent&&te(!0),I&&I(!1),e.next=33;break;case 31:ce(!1),I&&I(!0);case 33:return e.abrupt("return",n);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)(Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(g&&b.detail&&b.detail.account&&l&&F)){e.next=18;break}if(b.isConnected()){e.next=6;break}P(l["connect-wallet"]),re(null),e.next=18;break;case 6:return e.next=8,de(b,g);case 8:if(!e.sent){e.next=15;break}V(!1),P(N),re(S),I&&I(!1),e.next=18;break;case 15:V(!0),re(S),I&&I(!0);case 18:case"end":return e.stop()}}),e)}))),[g,b,l,w,k,b.detail,b.detail.account,F]),Object(r.useEffect)((function(){B(!A)}),[A]),Object(r.useEffect)((function(){b&&g&&g.address&&(b.setAddress(g.address),g.isV3||g.isV3Lite?b.setBToken(w):b.setBTokenId(k))}),[b,g,k,w]),Object(x.jsxs)("div",{children:[Object(x.jsx)(d.a,Object(n.a)(Object(n.a)({},E),{},{disabled:!F,label:q,onClick:ue,icon:oe})),!y&&$&&F&&Object(x.jsxs)("div",{className:"init-approve",children:[Object(x.jsxs)("div",{className:"step-approve",children:[!ie&&Object(x.jsx)("div",{className:"step-one",children:"1"}),ie&&Object(x.jsx)("div",{className:"pending",children:z?Object(x.jsx)(f.a,{token:"finish"}):Object(x.jsx)(m,{})}),Object(x.jsx)("div",{className:z?"approve-text finish-text":"approve-text",children:l.approve})]}),Object(x.jsx)("div",{className:z?"step-hr finish":"step-hr"}),Object(x.jsxs)("div",{className:"step-transaction",children:[!z&&Object(x.jsx)("div",{className:"step-two",children:"2"}),ie&&z&&Object(x.jsx)("div",{className:"pending",children:ee?Object(x.jsx)(f.a,{token:"finish"}):Object(x.jsx)(m,{})}),Object(x.jsx)("div",{className:ee?"transaction-text finish-text":"transaction-text",children:q})]})]})]})})))},1772:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(2),i=a(12),c=a(0),s=a.n(c),l=a(9),o=a(209),r=a(239),d=a(101),b=a.n(d),u=a(237),j=a(1552),p=a(34),h=a(1492),x=a(20),m=a(62),f=(a(1773),a(412)),O=a(6);function v(e){var t=e.wallet,a=e.alert,c=Object(l.useState)(0),d=Object(i.a)(c,2),v=d[0],g=d[1],y=Object(l.useState)(!1),k=Object(i.a)(y,2),w=k[0],S=k[1],N=Object(l.useState)(!1),T=Object(i.a)(N,2),C=T[0],A=T[1],I=Object(l.useState)(!1),E=Object(i.a)(I,2),_=E[0],D=E[1],F=Object(l.useState)(!1),B=Object(i.a)(F,2),R=B[0],L=B[1],q=Object(l.useState)(),P=Object(i.a)(q,2),U=P[0],H=P[1],$=Object(l.useState)(),V=Object(i.a)($,2),M=V[0],W=V[1],z=Object(l.useState)(),K=Object(i.a)(z,2),Z=K[0],X=K[1],G=Object(l.useState)(),Y=Object(i.a)(G,2),Q=Y[0],J=Y[1],ee=Object(l.useState)("REMOVE LIQUIDITY"),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],ie=function(){var e=Object(n.a)(s.a.mark((function e(){var a,n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.request("getLiquidityInfo",[t.detail.chainId,"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF",t.detail.account,0]);case 2:a=e.sent,n=a.shares?Object(x.bg)(a.shares):Object(x.bg)(0),i=n.isNaN()?Object(x.bg)(0):n.multipliedBy(a.shareValue),H(n.toString()),W(i.toFixed(4));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(n.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.request("getLiquidityInfo",[t.detail.chainId,"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA",t.detail.account,"DERI"]);case 2:a=e.sent,console.log("getLiquidityInfo",a),n=a.shares?Object(x.bg)(a.shares):Object(x.bg)(0),J(n.toString());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(n.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.request("getBTokenBalance",[t.detail.chainId,"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF",t.detail.account,0]);case 2:a=e.sent,console.log("getBTokenBalance",a),X(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(n.a)(s.a.mark((function e(){var n,i,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!0),0!==v){e.next=21;break}return i=[t.detail.chainId,"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF",t.detail.account,U,void 0,!0],e.next=5,m.a.request("removeLiquidity",i,{includeResponse:!0,write:!0,subject:"REMOVE LIQUIDITY"});case 5:if(n=e.sent,se(),S(!1),n&&n.success){e.next=15;break}if(""!==n.response.transactionHash){e.next=11;break}return e.abrupt("return",!1);case 11:return a.error("Transaction Failed  : ".concat(n.response.error),{timeout:3e5,isTransaction:!0,transactionHash:n.response.transactionHash,link:"".concat(t.blockExploreUrl,"/tx/").concat(n.response.transactionHash),title:"Remove Liquidity Failed"}),e.abrupt("return",!1);case 15:g(v+1),A(!0),a.success("Remove DERI Liquidity",{timeout:8e3,isTransaction:!0,transactionHash:n.response.data.transactionHash,link:"".concat(t.blockExploreUrl,"/tx/").concat(n.response.data.transactionHash),title:"Remove Liquidity Executed"});case 18:return e.abrupt("return",!0);case 21:if(1!==v){e.next=39;break}return c=[t.detail.chainId,"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA",t.detail.account,"DERI"],e.next=25,m.a.request("unlock",c,{write:!0,subject:"APPROVE"});case 25:if(n=e.sent,S(!1),!n){e.next=37;break}if(!n.status){e.next=34;break}g(v+1),D(!0),a.success("Approve DERI",{timeout:8e3,isTransaction:!0,transactionHash:n.transactionHash,link:"".concat(t.blockExploreUrl,"/tx/").concat(n.transactionHash),title:"Approve Executed"}),e.next=37;break;case 34:if(""!==n.transactionHash){e.next=36;break}return e.abrupt("return",!1);case 36:a.error("Transaction Failed ".concat(n.error),{timeout:3e5,isTransaction:!0,transactionHash:n.transactionHash,link:"".concat(t.blockExploreUrl,"/tx/").concat(n.transactionHash),title:"Approve Failed"});case 37:e.next=58;break;case 39:if(2!==v){e.next=58;break}return l=[t.detail.chainId,"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA",t.detail.account,Z,"DERI"],e.next=43,m.a.request("addLiquidity",l,{includeResponse:!0,write:!0,subject:"ADD LIQUIDITY"});case 43:if(n=e.sent,S(!1),se(),ce(),n&&n.success){e.next=54;break}if(""!==n.response.transactionHash){e.next=50;break}return e.abrupt("return",!1);case 50:return a.error("Transaction Failed  : ".concat(n.response.error),{timeout:3e5,isTransaction:!0,transactionHash:n.response.transactionHash,link:"".concat(t.blockExploreUrl,"/tx/").concat(n.response.transactionHash),title:"Add Liquidity Failed"}),e.abrupt("return",!1);case 54:L(!0),Object(o.a)("LiquidityGuidance"),a.success("Add DERI Liquidity",{timeout:8e3,isTransaction:!0,transactionHash:n.response.data.transactionHash,link:"".concat(t.blockExploreUrl,"/tx/").concat(n.response.data.transactionHash),title:"Add Liquidity Executed"});case 57:return e.abrupt("return",!0);case 58:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){t.isConnected()&&(ie(),se())}),[t]),Object(l.useEffect)((function(){1===v?ne("APPROVE"):2===v&&ne("ADD LIQUIDITY")}),[v]),Object(O.jsxs)("div",{className:"guidance-modal",children:[Object(O.jsxs)("div",{className:"title-close",children:[Object(O.jsx)("div",{className:"title-text",children:"Migrate Liquidity"}),Object(O.jsx)("div",{className:"close",children:Object(O.jsx)("img",{src:r.default,alt:"",onClick:function(){return Object(o.a)("LiquidityGuidance")}})})]}),Object(O.jsxs)("div",{className:"step-box",children:[Object(O.jsxs)("div",{className:b()("remove",{pending:0===v&&w,success:0!==v&&C}),children:[0===v&&w&&Object(O.jsx)(f.a,{borderColor:"rgba(89, 174, 153, 0.5)",bgColor:"rgba(89, 174, 153, 0.3)"}),0!==v&&C&&Object(O.jsx)(p.a,{token:"Guidance-success"}),"REMOVE"]}),Object(O.jsx)("div",{className:b()("hr",{"hr-success":0!==v&&C})}),Object(O.jsxs)("div",{className:b()("approve",{pending:1===v&&w,success:2===v&&_}),children:[1===v&&w&&Object(O.jsx)(f.a,{borderColor:"rgba(89, 174, 153, 0.5)",bgColor:"rgba(89, 174, 153, 0.3)"}),2===v&&_&&Object(O.jsx)(p.a,{token:"Guidance-success"}),"APPROVE"]}),Object(O.jsx)("div",{className:b()("hr",{"hr-success":2===v&&_})}),Object(O.jsxs)("div",{className:b()("add",{pending:2===v&&w,success:R}),children:[2===v&&w&&Object(O.jsx)(f.a,{borderColor:"rgba(89, 174, 153, 0.5)",bgColor:"rgba(89, 174, 153, 0.3)"}),R&&Object(O.jsx)(p.a,{token:"Guidance-success"}),"ADD"]})]}),Object(O.jsxs)("div",{className:"guidance-info",children:[Object(O.jsxs)("div",{className:"now-step",children:[0===v&&" Step 1: remove liquidity from the retired Future Inno Pool",1===v&&" Step 2: approve DERI to the new Inno Pool",2===v&&" Step 3: add DERI to the new Inno Pool"]}),0===v&&Object(O.jsxs)("div",{className:"pool-type",children:[Object(O.jsx)("div",{className:"pool-title",children:"Pool"}),Object(O.jsx)("div",{className:"pool-type-text",children:" Future Inno"})]}),Object(O.jsxs)("div",{className:"balance-box",children:[Object(O.jsx)("div",{className:"balance-title",children:"Your Staked Balance"}),Object(O.jsxs)("div",{className:"balance-num",children:[0===v&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.a,{value:U,decimalScale:2})," shares (",Object(O.jsx)(h.a,{value:M})," DERI)"]}),0!==v&&Object(O.jsx)(h.a,{value:R?Q:Z,suffix:" DERI"})]})]}),Object(O.jsxs)("div",{className:"operate-box",children:[Object(O.jsx)("div",{className:"input-box",children:Object(O.jsx)(j.a,{inputWidth:"332px",disabled:0===v,decimal:18,unit:0===v?"SHARES":"DERI",value:0===v?U:Z,onChange:function(e){return X(e)}})}),Object(O.jsx)(u.a,{width:"332",disabled:2===v&&!(+Z>0),label:ae,onClick:le,fontSize:"18"})]})]})]})}},1773:function(e,t,a){},1774:function(e,t,a){},1775:function(e,t,a){},1776:function(e,t,a){},1777:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n,i=a(12),c=a(92),s=a(9),l=(a(62),a(73)),o=a(34),r=a(310),d=a(1492),b=a(6),u=l.a.div(n||(n=Object(c.a)(["\n  .remove-hint{\n    cursor: pointer;\n    .text{\n      display: flex;\n      border:0;\n    }\n    span{\n      margin-left:8px;\n    }\n  }\n"])));function j(e){var t=e.lang,a=e.wallet,n=e.baseToken,c=e.penalty,l=e.isB0Staked,j=e.availableBalance,p=e.getLang,h=Object(s.useState)(""),x=Object(i.a)(h,2),m=x[0],f=x[1],O=Object(s.useState)("BUSD"),v=Object(i.a)(O,2),g=v[0],y=v[1];return Object(s.useEffect)((function(){var e,i=56===+a.detail.chainId||97===+a.detail.chainId?"BUSD":"USDC";y(i);var s={num:n,name:i},o={name:i};e=l?"BUSD"===n||"USDC"===n?"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(c," ").concat(i," ").concat(p("this-action-will-update-your",o)):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(c," ").concat(i," ").concat(p("this-action-will-trigger-swapping-to-update-your",s)):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(c," ").concat(i," ").concat(p("this-action-will-trigger-swapping-to-update-your-busd-balance-to-reflect-the-unsettled-amount",s)),f(e)}),[l,c,n]),Object(b.jsx)(u,{children:+c<0&&+j>0&&Object(b.jsx)("div",{className:"remove-hint",children:Object(b.jsxs)(r.a,{tip:m,width:"332",children:[Object(b.jsx)(o.a,{token:"warn"})," ",Object(b.jsxs)("span",{children:[t["negative-unsettled-balance"]," : ",Object(b.jsx)(d.a,{value:c,decimalScale:2})," ",g]})]})})})}},1778:function(e,t,a){},1779:function(e,t,a){"use strict";t.a=a.p+"static/media/deri.99910f26.svg"},1780:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n,i=a(92),c=a(73),s=(a(9),a(6)),l=c.a.div(n||(n=Object(i.a)(["\nwidth:","%;\nmax-width:100%;\nheight:10px;\nbackground-color: #5577FD;\n"])),(function(e){return e.width}));function o(e){var t=e.startTimestamp,a=e.nowTimestamp,n=e.endTimestamp,i=parseInt((a-t)/(n-t)*100);return Object(s.jsx)("div",{className:"time-slider",children:Object(s.jsx)(l,{width:i})})}},1860:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var n,i=a(2),c=a(12),s=a(0),l=a.n(s),o=a(9),r=a(114),d=a.n(r),b=a(34),u=a(92),j=a(25),p=a(1541),h=a(73),x=a(181),m=a(6),f=h.a.div(n||(n=Object(u.a)(["\n&.custom-tooltip {\n  padding: 0 0 0 10px;\n  color: #E0ECFF;\n  z-index: 2;\n  .tip-title {\n    font-size: 16px;\n    color: #E0ECFF;\n  }\n  .value {\n    font-size: 32px;\n    font-weight : 700;\n    font-family : Barlow;\n  }\n  .date {\n    margin-top: 4px;\n    margin-left: 4px;\n    font-size: 14px;\n    height: 14px;\n  }\n  .text{\n    border-bottom : 1px dashed #93A1B8;\n    width : max-content;\n    cursor : pointer;\n    display:block\n  }\n  .icon{\n    width:80px;\n    height:80px;\n    background: rgba(85, 119, 253, 0.1);\n    border: 2px solid #263457;\n    border-radius:50%;\n    display:flex;\n    justify-content: center;\n    position: absolute;\n    left:134px;\n    top: 172px;\n  }\n  @media only screen and (min-width : 383px) and (max-width:759px) {\n    .icon{\n      left:calc(50vw - 59px) ;\n    }\n  }\n\n}\n"]))),O=function(e){var t=e.title,a=e.active,n=e.payload,i=(e.label,e.lastItem),c=e.decimalScale,s=void 0===c?2:c,l=e.tip,r=e.id,d=void 0===r?String((new Date).getTime())+Math.random():r,u=e.coordinate,h=e.isInfo;return Object(o.useEffect)((function(){if(h){window.onresize=function(){var e=document.querySelector(".graph").getBoundingClientRect(),t=document.getElementsByClassName("icon")[0];t&&(t.style.left=e.width/2-58+"px")};var e=document.querySelector(".graph").getBoundingClientRect(),t=document.getElementsByClassName("icon")[0];t&&(t.style.left=e.width/2-58+"px")}}),[e]),a&&n&&n.length?Object(m.jsxs)(f,{className:"custom-tooltip",coordinate:a?u:"",children:[Object(m.jsx)("div",{className:"tip-title",children:t}),Object(m.jsxs)("div",{className:"value",children:[n[0].payload.name&&n[0].payload.name,l?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{"data-for":d,"data-tip":l,className:"text",children:Object(j.f)(n[0].payload.value,s)}),Object(m.jsxs)(x.a,{id:d,padding:"12",place:"bottom",children:[" ",l," "]})]}):Object(j.f)(n[0].payload.value,s)]}),Object(m.jsx)("div",{className:"date",children:n[0].payload.time&&"".concat(Object(p.a)(new Date(1e3*n[0].payload.time),"yyyy-mm-dd")," (UTC)")}),Object(m.jsx)("div",{className:"icon",children:Object(m.jsx)(b.a,{token:n[0].payload.name,width:40})})]}):t&&i.value?Object(m.jsxs)(f,{className:"custom-tooltip",coordinate:"",children:[Object(m.jsx)("div",{className:"tip-title",children:t}),Object(m.jsxs)("div",{className:"value",children:[" ",i.name&&i.name," ",l?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{"data-for":d,"data-tip":l,className:"text",children:Object(j.f)(i.value,s)}),Object(m.jsxs)(x.a,{id:d,padding:"12",place:"bottom",children:[" ",l," "]})]}):Object(j.f)(i.value,s)]}),Object(m.jsx)("div",{className:"date",children:i.timestamp&&"".concat(Object(p.a)(new Date(1e3*i.timestamp),"yyyy-mm-dd")," (UTC)")}),Object(m.jsx)("div",{className:"icon",children:Object(m.jsx)(b.a,{token:i.name,width:40})})]}):null},v=a(1695),g=a(2619),y=a(2022),k=a(1638),w=a(1641),S=a(2021),N=a(2608);function T(e){var t=e.url,a=e.title,n=e.isInfo,s=void 0!==n&&n,r=["#3756CD","#3756cde6","#3756cdbf","#3756cd99","#3756cd73","#3756cd66","#3756cd4d","#3756cd26","#3755cd1a"],b={WBNB:"#F3BA2F",BNB:"#F0B90B",WBTC:"#F7931A",WMATIC:"#2BBDF7",amUSDC:"#2775CA",BUSD:"#F0B90B",USDT:"#26A17B",CAKE:"#24C7D6",DERI:"#3756CD",TBUSD:"#F0B90B",SXP:"#FF6E26",ETH:"#444444",LTC:"#345D9D",XRP:"#11AAE2",BTCB:"#F7931A",ADA:"#3468D1",MATIC:"#2BBDF7",AAVE:"#B5519E",TUSD:"#1B5AFF",DAI:"#F5AC37",DOT:"#E6007A",LINK:"#2A5ADA",XVS:"#F2BC55",USDC:"#2775CA",TRX:"#FF060A",TDERI:"#3756CD",UST:"#5493F7",DOGE:"#C3A634",LUNA:"#FFD83D"},u=Object(o.useState)([]),p=Object(c.a)(u,2),h=p[0],x=p[1],f=Object(o.useState)({}),T=Object(c.a)(f,2),C=T[0],A=T[1],I=Object(o.useState)({}),E=Object(c.a)(I,2),_=E[0],D=E[1],F=Object(o.useState)(!1),B=Object(c.a)(F,2),R=(B[0],B[1]),L=Object(o.useState)({activeIndex:0}),q=Object(c.a)(L,2),P=q[0],U=q[1],H=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(t);case 2:a=e.sent,n=[],200===a.status&&Array.isArray(a.data.data.btokens)&&(n=a.data.data.btokens.sort((function(e,t){return t.value-e.value}))).length>0&&A(n[0]),n=n.map((function(e){return{name:e.name,value:Number(e.value)}})),i=n.slice(8,n.length),c={name:"OTHER",value:0},i=i.map((function(e,t){return c.value+=e.value,c})),8===(n=n.slice(0,8)).length&&n.push(c),x(n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e=document.querySelector(".graph").getBoundingClientRect();D(e),H(t)}),[t]),Object(m.jsx)(g.a,{height:230,children:Object(m.jsxs)(y.a,{width:_.width,children:[Object(m.jsx)(k.a,{dataKey:"value",data:h,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,i=e.midAngle,c=e.innerRadius,s=e.outerRadius,l=e.startAngle,o=e.endAngle,r=(e.fill,e.payload),d=e.percent,u=(e.value,Math.sin(-t*i)),j=Math.cos(-t*i),p=a+(s+30)*j+22*(j>=0?1:-1),h=n+(s-8)*u,x=j>=0?"start":"end";return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v.a,{cx:a,cy:n,innerRadius:c-5,outerRadius:s+5,startAngle:l,endAngle:o,fill:b[r.name]}),Object(m.jsx)("text",{x:p+-40*(j>=0?1:-1),y:h,dy:18,textAnchor:x,fill:"#FFFFFF",className:"percent",children:"".concat((100*d).toFixed(2),"%")})]})},activeIndex:P.activeIndex,cx:"50%",cy:"50%",outerRadius:100,innerRadius:75,fill:"#8884d8",onMouseEnter:function(e,t){U({activeIndex:t}),R(!0)},onMouseLeave:function(){R(!1),U({activeIndex:0})},children:h.map((function(e,t){return Object(m.jsx)(w.a,{stroke:0,fill:r[t]},"cell-".concat(t))}))}),Object(m.jsx)(S.a,{content:function(e){var t=e.payload;return Object(m.jsx)("ul",{className:"token-list",children:t.map((function(e,t){return 8!==t&&Object(m.jsxs)("li",{children:[Object(m.jsxs)("span",{className:"token-name",children:[t+1,". ",Object(m.jsx)("div",{className:e.value})," ",Object(m.jsx)("span",{className:"token-name-text",children:e.value})]})," ",Object(j.f)(e.payload.value)]},"item-".concat(t))}))})}}),Object(m.jsx)(N.a,{position:{x:16,y:-92},cursor:!0,content:Object(m.jsx)(O,{title:a,lastItem:C,isInfo:s})})]})})}},2399:function(e,t,a){},2643:function(e,t,a){"use strict";a.r(t);var n=a(9),i=a(83),c=a(74),s=a(238),l=a(1552),o=a(1721),r=a(1535),d=a(25),b=a(1492),u=a(17),j=a(62),p=(a(1776),a(20)),h=(a(209),a(603)),x=(a(1772),a(1777)),m=a(6);function f(e){let{getLang:t,wallet:a,lang:i,type:c,isLp:f,chainId:O,bTokenId:v,poolConfig:g,version:y,baseToken:k,address:w,walletBalance:S,poolInfo:N,afterTransaction:T}=e;const[C,A]=Object(n.useState)(""),[I,E]=Object(n.useState)(!1),[_,D]=Object(n.useState)(""),[F,B]=Object(n.useState)(!1),[R,L]=Object(n.useState)(""),[q,P]=Object(n.useState)(""),[U,H]=Object(n.useState)(!1),[$,V]=Object(n.useState)(!1),M=Object(s.c)(),[W,z]=Object(n.useState)({}),K="add"===c||"v2"===y||"v3"===y||"v3_lite"===y?k:i.shares;return Object(n.useEffect)((()=>{let e="add"===c?Object(p.bg)(S):Object(p.bg)(N.totalShares);/\d+\.(999999|099999|009999|000999|000099|000009)/.test(e)&&(e=Object(p.bg)((+S).toFixed(5)));const t=Object(p.bg)(C);C&&0!==+C&&!t.gt(e)?((async()=>{let e,t="add"===c?C:Object(p.bg)(C).times(Object(p.bg)(-1)).toString();e="v3"===y||"v3_lite"===y?[a.detail.chainId,w,a.detail.account,t,k]:[a.detail.chainId,w,a.detail.account,t,v];let n=await j.a.request("getEstimatedLiquidityInfo",e);+n.percentage1<0&&(n.percentage1=0,n.shares1=0),z(n)})(),B(!1)):B(!0),$&&B(!0)}),[C,c,N,S]),Object(n.useEffect)((()=>{A(""),D(""),L((new Date).getTime())}),[c,v,k]),Object(n.useEffect)((()=>{a.isConnected()&&(async()=>{if(k){let e=await j.a.request("getEstimatedLpInfo",[a.detail.chainId,w,a.detail.account,k]);P(e.b0Penalty),H(e.isB0Staked)}})()}),[a.detail,k,w]),Object(n.useEffect)((()=>{(async()=>{if(k!==(56===+O||97===+O?"BUSD":"USDC")&&k){let e=await j.a.request("getPoolB0Info",[O,w]);V(e.insufficientB0)}else V(!1)})()}),[O,w,k]),Object(m.jsxs)("div",{className:"operate-liquidity",children:[Object(m.jsx)("div",{className:"add-input",children:Object(m.jsx)(l.a,{value:C,unit:K,onChange:e=>{A(e),D(e)},inputWidth:"237px",decimal:18,styles:{"min-width":"332px"}})}),"add"===c&&Object(m.jsxs)("div",{className:"wallet-balance",children:[i["wallet-balance"],": ",Object(m.jsx)(b.a,{value:S,displayType:"text",decimalScale:2})," ",k]}),"remove"===c&&Object(m.jsxs)("div",{className:"wallet-balance",children:[i["staked-balance"],": ",Object(m.jsx)(b.a,{value:N.totalShares,displayType:"text",decimalScale:2})," ",K]}),"remove"===c&&Object(m.jsx)("div",{children:Object(m.jsx)(x.a,{getLang:t,lang:i,baseToken:k,wallet:a,penalty:q,isB0Staked:U})}),Object(m.jsx)("div",{className:"check-proportion",children:Object(m.jsx)(r.a,{outline:!0,defaultValue:_,onChange:e=>{let t="add"===c?S:N.totalShares,a=Object(d.K)(e,t);D(e),A(a),D(e),E("100%"===e)},bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(m.jsxs)("div",{className:"information",children:[0!==+C&&("add"!==c||!$)&&Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"percentage",children:[Object(m.jsx)("div",{className:"info-box-title",children:i["my-liquidity-percentage"]}),Object(m.jsxs)("div",{className:"info-box-num",children:[Object(m.jsx)(b.a,{allowZero:!0,width:"80px",value:N.percent,decimalScale:2,suffix:"%"})," ","->","  ",Object(m.jsx)(b.a,{width:"80px",allowZero:!0,value:100*W.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(m.jsxs)("div",{className:"staked-balance",children:[Object(m.jsx)("div",{className:"info-box-title",children:i["staked-balance"]}),Object(m.jsxs)("div",{className:"info-box-num",children:[Object(m.jsx)(b.a,{width:"80px",allowZero:!0,value:N.formatShares,decimalScale:2})," ","->"," ",Object(m.jsx)(b.a,{width:"80px",allowZero:!0,value:W.shares1,decimalScale:2}),"v2"===y||"v3"===y||"v3_lite"===y?" "+k:" "+i.shares]})]})]}),$&&"add"===c&&Object(m.jsxs)("div",{className:"isBTokenAdequate",children:[Object(m.jsx)("div",{className:"warning-logo",children:Object(m.jsx)("img",{src:h.default,alt:"warning"})}),Object(m.jsx)("div",{className:"warning-text",children:t("insufficient-B0",{bToken:k,b0Token:56===+O||97===+O?"BUSD":"USDC"})})]})]}),Object(m.jsx)("div",{className:"add-remove-btn",children:Object(m.jsx)(o.a,{alert:M,disabled:F,fontWeight:"bold",onClick:"add"===c?async()=>{const e=Object(p.bg)(S);if(Object(p.bg)(C).gt(e))return M.error(i["not-sufficient-funds"]),!1;if(C<=0||isNaN(C))return M.error(i["it-has-to-be-greater-than-zero"]),!1;let n;if("lp"===f){let e=[a.detail.chainId,w,a.detail.account,C];n=await j.a.request("addLpLiquidity",e,{includeResponse:!0,write:!0,subject:i["add-liquidity"],title:{text:i["add-liquidity-state"],icon:k},content:{success:`${t("add-baseToken-liquidity",{baseToken:k})}`,error:i["transaction-failed"]}})}else{let e;e="v3"===y||"v3_lite"===y?[a.detail.chainId,w,a.detail.account,C,k]:[a.detail.chainId,w,a.detail.account,C,v],n=await j.a.request("addLiquidity",e,{includeResponse:!0,write:!0,subject:i["add-liquidity"],title:{text:i["add-liquidity-state"],icon:k},content:{success:`${t("add-baseToken-liquidity",{baseToken:k})}`,error:i["transaction-failed"]}})}return n.success&&A(""),T(0),!0}:async()=>{const e=Object(p.bg)(N.totalShares);let n;n=I?N.totalShares:C;const c=Object(p.bg)(n);if(c.gt(e))return M.error(`${i["your-current-max-removable-shares-are"]}  ${N.totalShares}`),!1;if(+n<=0||isNaN(C))return M.error(i["invalid-liquidity"]),!1;let s;if("lp"===f){let e=[a.detail.chainId,w,a.detail.account,n];s=await j.a.request("removeLpLiquidity",e,{includeResponse:!0,write:!0,subject:i["remove-liquidity"],title:{text:i["remove-liquidity-state"],icon:k},content:{success:`${t("remove-baseToken-liquidity",{baseToken:k})}`,error:i["transaction-failed"]}})}else{let l;l="v3"===y||"v3_lite"===y?[a.detail.chainId,w,a.detail.account,n,k,e.eq(c)]:[a.detail.chainId,w,a.detail.account,n,v,e.eq(c)],s=await j.a.request("removeLiquidity",l,{includeResponse:!0,write:!0,subject:i["remove-liquidity"],title:{text:i["remove-liquidity-state"]},content:{success:`${t("remove-baseToken-liquidity",{baseToken:k})}`,error:i["transaction-failed"]}})}return s.success&&A(""),T(1),!0},bToken:k,pool:g,wallet:a,bTokenId:v,fontSize:"18",type:u.D,width:"331",label:"add"===c?i["add-liquidity"]:i["remove-liquidity"],lang:i},R)})]})}var O=a(1560),v=a(160),g=a(241),y=(a(1778),a(1634),a(585)),k=a(587),w=a(589),S=a(586),N=a(588),T=a(1779),C=a(1680),A=a(591),I=a(310),E=a(394),_=a(237);const D=v[p.DeriEnv.get()].chainInfo;function F(e){let{wallet:t,chainId:a,nowApy:i,poolInfo:c,address:l,nowToken:o,lang:r,version:u,type:p,poolConfig:h,symbols:x}=e;const[f,O]=Object(n.useState)("show"),[v,g]=Object(n.useState)(),y=Object(n.useRef)(),k=(Object(s.c)(),async()=>{let e=await j.a.request("getVenusEarned",[t.detail.chainId,l,t.detail.account]);e&&(e=+e,g(e))});return Object(n.useEffect)((()=>{if(t.isConnected()&&!y.current&&("v3"===u||"v3_lite"===u)&&56===+t.detail.chainId){y.current=!0;let e=null;return k(),e=window.setInterval((()=>{k()}),18e4),()=>{e&&clearInterval(e)}}}),[t,t.detail,v]),Object(m.jsxs)("div",{className:"pool-info",children:[Object(m.jsxs)("div",{className:"pool-info-title",children:[Object(m.jsx)("div",{className:"pool-info-title-text",children:r["pool-info"]}),Object(m.jsxs)("div",{className:"down-up",children:["show"===f&&Object(m.jsx)("span",{onClick:()=>O("hide"),children:Object(m.jsx)("img",{className:"up-icon",alt:"",src:E.default})}),"hide"===f&&Object(m.jsx)("span",{onClick:()=>O("show"),children:Object(m.jsx)("img",{alt:"",src:E.default})})]})]}),Object(m.jsxs)("div",{className:`'pool-info-text' ${f}`,children:[Object(m.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==u&&Object(m.jsxs)("div",{className:"info-box",children:[Object(m.jsx)("div",{className:"info-box-title",children:r.apy}),Object(m.jsxs)("div",{className:"info-box-num",children:["v3"!==u&&"v3_lite"!==u&&Object(m.jsx)(b.a,{value:c.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===u||"v3_lite"===u)&&h.singleBtoken&&Object(m.jsx)(b.a,{value:i.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===u||"v3_lite"===u)&&!h.singleBtoken&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(I.a,{text:Object(m.jsx)(b.a,{width:"50px",value:i.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:r["deri-apy"]}),"\xa0 +  \xa0  ",Object(m.jsx)(I.a,{text:Object(m.jsx)(b.a,{width:"50px",value:i.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:42161!==+a?r["venus-suppy-apy"]:r["aave-suppy-apy"]}),"  \xa0 ",42161!==+a&&"+","  \xa0",42161!==+a&&Object(m.jsx)(I.a,{text:Object(m.jsx)(b.a,{width:"50px",value:i.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:r["xvs-distribution-apy"]})]})]})]}),Object(m.jsxs)("div",{className:"info-box",children:[Object(m.jsx)("div",{className:"info-box-title",children:r["pool-liquidity"]}),Object(m.jsxs)("div",{className:"info-box-num",children:[Object(m.jsx)(b.a,{value:c.total,displayType:"text",decimalScale:2,thousandSeparator:!0})," ","v3"===u||"v3_lite"===u?56===+a||97===+a?h.singleBtoken?"DERI":"BUSD":"USDC":o]})]}),("v2"===u||"v3"===u||"v3_lite"===u)&&!("option"===p&&"v2"===u)&&!h.singleBtoken&&Object(m.jsxs)("div",{className:"info-box",children:[Object(m.jsx)("div",{className:"info-box-title",children:r.multiplier}),Object(m.jsx)("div",{className:"info-box-num",children:c.multiplier})]}),Object(m.jsxs)("div",{className:"info-box",children:[Object(m.jsx)("div",{className:"info-box-title",children:r["my-liquidity-percentage"]}),Object(m.jsx)("div",{className:"info-box-num",children:Object(m.jsx)(b.a,{allowZero:!0,value:c.percent,decimalScale:2,suffix:"%"})})]}),("v2"!==u&&"v3"!==u&&"v3_lite"!==u||"v2"===u&&"option"===p)&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"info-box",children:[Object(m.jsx)("div",{className:"info-box-title",children:r["liquidity-share-value"]}),Object(m.jsxs)("div",{className:"info-box-num",children:[Object(m.jsx)(b.a,{allowZero:!0,decimalScale:6,value:c.shareValue,thousandSeparator:!0})," ",o]})]})}),Object(m.jsxs)("div",{className:"info-box",children:[Object(m.jsx)("div",{className:"info-box-title",children:r["staked-balance"]}),Object(m.jsxs)("div",{className:"info-box-num",children:[Object(m.jsx)(b.a,{allowZero:!0,value:c.formatShares,decimalScale:2}),"v2"!==u&&"v3"!==u&&"v3_lite"!==u||"option"===p&&"v2"===u?" "+r.shares:" "+o]})]}),("v2"!==u&&"v3"!==u&&"v3_lite"!==u||"v2"===u&&"option"===p)&&Object(m.jsxs)("div",{className:"info-box",children:[Object(m.jsx)("div",{className:"info-box-title"}),Object(m.jsxs)("div",{className:"info-box-num",children:[Object(m.jsx)(b.a,{allowZero:!0,decimalScale:2,value:c.values,thousandSeparator:!0})," ",o]})]}),("v2"===u||"v3"===u||"v3_lite"===u)&&!("option"===p&&"v2"===u)&&Object(m.jsxs)("div",{className:"info-box",children:[Object(m.jsx)("div",{className:"info-box-title",children:Object(m.jsx)(I.a,{multiline:!0,text:r["mining-pnl"],tip:r["mining-pnl-hover"],html:!0,element:Object(m.jsxs)("span",{children:[" ",Object(m.jsxs)("div",{children:[r["mining-pnl-hover-one"]," "]}),r["mining-pnl-hover"]," ",Object(m.jsxs)("div",{children:[Object(m.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://docs.deri.io/how-it-works/mining-amm-liquidity-mining#ii.-base-token-profit-with-market-risk",children:r["learn-more-pnl"]})," "]})," "]})})}),Object(m.jsxs)("div",{className:"info-box-num",children:[Object(m.jsx)(b.a,{allowZero:!0,prefix:" ",value:c.pnl,decimalScale:2}),"  ","v3"===u||"v3_lite"===u?56===+a||97===+a?h.singleBtoken?"DERI":"BUSD":"USDC":h&&h.bTokens[0].bTokenSymbol," (",Object(m.jsx)(b.a,{value:c.pnlPercentage,decimalScale:2,suffix:"%"}),")"]})]}),("v3"===u||"v3_lite"===u)&&(56===+a||97===+a)&&!h.singleBtoken&&Object(m.jsxs)("div",{className:"info-box",children:[Object(m.jsx)("div",{className:"info-box-title",children:r["xvs-earned"]}),Object(m.jsxs)("div",{className:"info-box-num collect-box",children:[Object(m.jsx)(b.a,{value:v,decimalScale:2}),Object(m.jsx)(_.a,{onClick:async()=>{await j.a.request("claimXVSLp",[t.detail.chainId,l,t.detail.account],{includeResponse:!0,write:!0,subject:r["claim-XVS"],title:{text:"Claim XVS",icon:"XVS"},content:{success:r["claim-XVS-reward"],error:r["transaction-failed"]}});k()},className:"collect",label:r.collect})]})]})]}),Object(m.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==p&&Object(m.jsxs)("div",{className:"info-box",children:[Object(m.jsx)("div",{className:"info-box-title",children:r.symbols}),Object(m.jsx)("div",{className:"info-box-num symbols",children:Object(m.jsx)(I.a,{tip:x,children:x})})]}),Object(m.jsxs)("div",{className:"info-box",children:[Object(m.jsx)("div",{className:"info-box-title",children:r["contract-address"]}),Object(m.jsx)("div",{className:"info-box-num",children:Object(m.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${D[a]&&D[a].viewUrl}/address/${l}`,children:Object(d.l)(l)})})]})]})]})]})}var B=a(12),R=a(34),L=a(1603);function q(e){var t=e.lang,a=e.address,i=e.checkoutBaseToken,c=e.pool,s=e.nowToken,l=e.chainId,o=e.bTokenList,r=e.version,u=e.type,j=Object(n.useState)([]),p=Object(B.a)(j,2),h=p[0],x=p[1],f=function(e){e.target.src=A.default};return Object(n.useEffect)((function(){x(o)}),[o]),Object(m.jsxs)("div",{className:"select-basetoken-info",children:[Object(m.jsxs)("div",{className:"select-coin-title-search",children:[Object(m.jsxs)("div",{className:"select-coin-title",children:[" ",t["select-the-coin"]]}),Object(m.jsx)("div",{className:"search-box",children:Object(m.jsx)(L.a,{list:o,searchName:"bTokenSymbol",onChange:function(e){return x(e)}})})]}),Object(m.jsxs)("div",{className:"coin-search",children:[Object(m.jsx)("div",{className:"slide-icon left",children:Object(m.jsx)(R.a,{token:"arrow-left",width:"24",height:"24"})}),Object(m.jsxs)("div",{className:"v3"===r||"v3_lite"===r?"coin-list some-coin":"coin-list",children:["lp"!==u&&"v2_lite_open"!==r&&Object(m.jsx)(m.Fragment,{children:h.map((function(e,a){return Object(m.jsxs)("div",{className:s===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:function(){i(e.bTokenId,e.bTokenSymbol)},children:[Object(m.jsxs)("div",{className:"base-apy-info",children:[Object(m.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol)}),Object(m.jsxs)("div",{className:"apy-base-staked",children:[Object(m.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(m.jsxs)("div",{className:"base-apy",children:[t.apy," \xa0 ",Object(m.jsx)(b.a,{width:"50px",value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===r||"v3_lite"===r)&&!c.singleBtoken&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{children:[" +  ",Object(m.jsx)(b.a,{width:"50px",value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  ",42161!==+l&&"+"]}),42161!==+l&&Object(m.jsx)(b.a,{width:"50px",value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(m.jsx)("img",{src:C.a,alt:""})]})}))}),"v2_lite_open"===r&&Object(m.jsx)(m.Fragment,{children:h.map((function(e,a){return Object(m.jsxs)("div",{className:"coin-box checked-base",onClick:function(){i(e.bTokenId)},children:[Object(m.jsxs)("div",{className:"base-apy-info",children:[Object(m.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol),children:Object(m.jsx)("img",{alt:"",onError:f,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(e.bTokenSymbol,".png")})}),Object(m.jsx)("div",{className:"apy-base-staked",children:Object(m.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(m.jsxs)("div",{className:"stake",children:[Object(m.jsx)("img",{src:C.a,alt:""}),t.staked]})]})}))}),"lp"===u&&o.length&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"coin-box checked-base",children:Object(m.jsxs)("div",{className:"base-apy-info",children:[Object(m.jsxs)("div",{className:"lp-btoken-logo",children:[Object(m.jsx)("div",{className:"btoken-logo ".concat(o[0].bTokenSymbol)}),Object(m.jsx)("span",{className:"conect-logo",children:"+"}),Object(m.jsx)("div",{className:"btoken-logo ".concat(o[1].bTokenSymbol)})]}),Object(m.jsxs)("div",{className:"apy-base-staked",children:[Object(m.jsx)("div",{className:"base-name",children:s}),Object(m.jsxs)("div",{className:"base-apy",children:[Object(d.A)(a)&&Object(m.jsxs)(m.Fragment,{children:[t.apy," \xa0 ",Object(m.jsx)(b.a,{value:o[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(d.H)(a)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(I.a,{text:"".concat(t.apy," 0.00 %"),tip:t["deri-apy"]}),"\xa0 + \xa0 ",Object(m.jsx)(I.a,{text:"".concat(t.apy,"  ").concat(o[1].lpApy?(+o[1].lpApy).toFixed(2):0," %"),tip:t["sushi-apy"]})]})]})]})]})})})]}),Object(m.jsx)("div",{className:"slide-icon right",children:Object(m.jsx)(R.a,{token:"arrow-right",width:"24",height:"24"})})]})]})}var P=a(288),U=a(1780),H=a(1636),$=a(1637),V=a(1860);a(2399);function M(e){var t=e.address,a=e.chainId,i=Object(n.useState)("".concat(Object({NODE_ENV:"development",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_WSS_URL:"wss://testnetapi.deri.io",REACT_APP_EXECUTOR_WSS_URL:"wss://executortestnet.deri.io",REACT_APP_HTTP_URL:"https://oracletestnet.deri.io",REACT_APP_KLINE_HTTP_URL:"https://klinetestnet.deri.io",REACT_APP_KLINE_WSS_URL:"wss://klinetestnet.deri.io",REACT_APP_REST_SERVER_URL:"https://testnetapi.deri.io",REACT_APP_SINGLE_DOMAIN:"on",REACT_APP_WSS_URL:"wss://oracletestnet.deri.io"}).REACT_APP_INFO_HTTP_URL,"/get_liquidity_netvalue?pool=").concat(t)),c=Object(B.a)(i,2),s=c[0],l=c[1],o=Object(n.useState)("".concat(Object({NODE_ENV:"development",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_WSS_URL:"wss://testnetapi.deri.io",REACT_APP_EXECUTOR_WSS_URL:"wss://executortestnet.deri.io",REACT_APP_HTTP_URL:"https://oracletestnet.deri.io",REACT_APP_KLINE_HTTP_URL:"https://klinetestnet.deri.io",REACT_APP_KLINE_WSS_URL:"wss://klinetestnet.deri.io",REACT_APP_REST_SERVER_URL:"https://testnetapi.deri.io",REACT_APP_SINGLE_DOMAIN:"on",REACT_APP_WSS_URL:"wss://oracletestnet.deri.io"}).REACT_APP_INFO_HTTP_URL,"/get_tokens?pool=").concat(t)),r=Object(B.a)(o,2),d=r[0],b=r[1];return Object(m.jsxs)("div",{className:"pool-chart-box",children:[Object(m.jsxs)("div",{className:"graph lp-graph netValue",children:[Object(m.jsx)(H.a,{url:s,className:"line-chart-filter",onChange:function(e){return l(e)},cycleArr:["7D","15D","ALL"]}),Object(m.jsx)($.a,{title:"LP Net Value",isTime:!0,url:s,domain:!0,yMin:1e-4,yMax:1e-4,decimalScale:4,height:350,tip:56===+a?"This is the BUSD value you would have as of today if you had provided 1BUSD as liquidity at the pool launch. It contains the trading PnL from Deri Protocol and the interest yield from Venus. Please note that your mining harvests of DERI and XVS are NOT included in this Net Value. If you provided tokens other than BUSD (i.e. BNB), the net value might be slightly different as the interest rate depends on tokens.":"This is the USDC value you would have as of today if you had provided 1USDC as liquidity at the pool launch. It contains the trading PnL from Deri Protocol and the interest yield from AAVE. Please note that your mining harvests of DERI are NOT included in this Net Value. If you provided tokens other than USDC (i.e. BTC), the net value might be slightly different as the interest rate depends on tokens."})]}),Object(m.jsxs)("div",{className:"graph token-graph tokens",children:[Object(m.jsx)(H.a,{className:"chart-filter",url:d,onChange:function(e){return b(e)},cycleArr:["TRADER","LP"]}),Object(m.jsx)(V.a,{title:"Top Margin/Liquidity",url:d})]})]})}const W=p.DeriEnv.get(),{chainInfo:z}=v[W];t.default=Object(c.b)("wallet","poolManager")(Object(c.c)((function(e){let{lang:t,wallet:a={},poolManager:c,getLang:l}=e;const{version:o,chainId:r,address:u,type:h}=Object(i.i)(),x=Object(s.c)(),[v,I]=Object(n.useState)(),[E,_]=Object(n.useState)(""),[D,B]=Object(n.useState)(!1),[R,L]=Object(n.useState)(""),[H,$]=Object(n.useState)([]),[V,W]=Object(n.useState)([]),[K,Z]=Object(n.useState)({}),[X,G]=Object(n.useState)(0),[Y,Q]=Object(n.useState)({}),J=Object(g.a)(),[ee,te]=Object(n.useState)(""),[ae,ne]=Object(n.useState)(),[ie,ce]=Object(n.useState)({}),[se,le]=Object(n.useState)(0),[oe,re]=Object(n.useState)(0),[de,be]=Object(n.useState)(0),[ue,je]=Object(n.useState)(""),[pe,he]=Object(n.useState)(!1),[xe,me]=Object(n.useState)(0),fe=z[r]&&z[r].name,Oe=Object(n.useRef)(),ve=Object(n.useRef)(),ge=async()=>{if(a.isConnected()&&+a.detail.chainId===+r){let e=[a.detail.chainId,u,a.detail.account],t=null;ne(""),R.isLp?t=await j.a.request("getLpWalletBalance",e):("v2_lite_open"===o&&await p.openConfigListCache.update(),"v3"!==o&&"v3_lite"!==o||!v?(e.push(E),t=await j.a.request("getBTokenBalance",e)):(e.push(v),t=await j.a.request("getBTokenBalance",e))),ne(t)}},ye=async()=>{let e=await j.a.request("getPendingReward",[a.detail.chainId,u,a.detail.account]);if(e)if(Object(d.C)(u)){Q(e);let t=e.valid?e.amount:0;G(t)}else G(e)},ke=e=>{ge(),Se(),Ne(),Oe.current="",ve.current="",me(e)},we=Object(n.useMemo)((()=>({[t.add]:{content:Object(m.jsx)(f,{chainId:r,getLang:l,poolConfig:R,isLp:h,wallet:a,afterTransaction:ke,version:o,bTokenId:E,address:u,lang:t,type:"add",poolInfo:K,baseToken:v,walletBalance:ae}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"add-icon",iconWidth:"25",iconHeight:"25",inicon:"inactive-add",direction:"tab-left"},[t.remove]:{content:Object(m.jsx)(f,{chainId:r,getLang:l,isLp:h,poolConfig:R,wallet:a,afterTransaction:ke,lang:t,address:u,type:"remove",bTokenId:E,poolInfo:K,balance:K,baseToken:v,version:o}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"remove-icon",iconWidth:"25",iconHeight:"25",iconMarginRight:"20",inicon:"inactive-remove",direction:"tab-right"}})),[t,l,R,h,a,o,E,u,v,ae,K]),Se=async()=>{let e,t=K,n=K.apy/100,i=K.supplyApy,c=K.xvsApy,s=K.liquidity,l=K.multiplier;if(R){if("v2"===o&&E&&Oe.current!==E){Oe.current=E,ve.current=E;let a=await R.getPoolInfo(u,r);if(a.bTokensApy&&a.bTokensLiq){H.map((e=>{e.apy=100*+a.bTokensApy.filter((t=>t.bTokenId===e.bTokenId))[0].apy}));e=a.bTokensApy.filter((e=>e.bTokenId===E)),n=e[0].apy,l=e[0].multiplier,s=a.bTokensLiq.filter((e=>e.bTokenId===E)),s=s[0].liquidity,t={total:s,apy:100*+n,supplyApy:100*+i,multiplier:l}}}else if("v2_lite"===o||"v2"===o&&"option"===h){let e=await R.getPoolInfo(u,r);if(e.bTokensApy&&e.bTokensLiq){H.map((t=>{t.apy=100*+e.bTokensApy[0].apy}));n=e.bTokensApy[0].apy,s=e.bTokensLiq[0].liquidity,t={total:s,apy:100*+n}}}else if("v3"!==o&&"v3_lite"!==o||!v||Oe.current===v){if("v3"!==o&&"v2_lite"!==o&&"v3_lite"!==o&&"v2"!==o){let e=await R.getPoolInfo(u,r);if(e.bTokensApy&&e.bTokensLiq){H.map((t=>{t.apy=100*+e.bTokensApy[0].apy,Object(d.H)(u)&&(t.lpApy=e.lpApy)}));n=e.bTokensApy[0].apy,s=e.bTokensLiq[0].liquidity,t={total:s,apy:100*+n}}}}else{Oe.current=v;let a=await R.getPoolInfo(u,r,o);if(ve.current=v,a.bTokensApy){H.map((e=>{if("v3"!==o&&"v3_lite"!==o||R.singleBtoken)"v3"!==o&&"v3_lite"!==o||!R.singleBtoken||(e.apy=100*a.bTokensApy[0].apy);else{let t=a.bTokensApy.find((t=>t.bTokenSymbol===e.bTokenSymbol));t&&(e.apy=100*+t.apy,e.supplyApy=(100*+t.supplyApy).toFixed(3),e.xvsApy=100*+t.xvsApy)}return e}));e=a.bTokensApy.filter((e=>e.bTokenSymbol===v)),e.length?(n=e[0].apy,i=e[0].supplyApy,c=e[0].xvsApy,l=e[0].multiplier):n=a.bTokensApy[0].apy,s=a.liquidity,t={total:s,apy:100*+n,supplyApy:100*+i,xvsApy:100*+c,multiplier:l}}}if(console.log("isConnectedBegin",t),Z(t),a.isConnected()&&+a.detail.chainId===+r){if("v2"===o&&E){let e=await R.getLiquidityInfo(a,u,R.version,R.isLp,h,v,E);e&&(t=e,t.apy=100*+n,t.multiplier=l)}else if("v2_lite"===o||"v2"===o&&"option"===h){let e=await R.getLiquidityInfo(a,u,R.version,R.isLp,h,v);e&&(t=e,t.apy=100*+n,t.multiplier=l)}else if("v3"!==o&&"v3_lite"!==o||!v||ve.current!==E&&ve.current!==v){if("v3"!==o&&"v2_lite"!==o&&"v3_lite"!==o&&"v2"!==o){let e=await R.getLiquidityInfo(a,u,R.version,R.isLp,h,v);e&&(t=e,t.apy=100*+n,t.multiplier=l)}}else{let e=await R.getLiquidityInfo(a,u,R.version,R.isLp,h,v,E);e&&(t=e,"v3"!==o&&"v3_lite"!==o||R.singleBtoken||(t.supplyApy=100*+i,t.xvsApy=100*+c),t.apy=100*+n,t.multiplier=l)}console.log("isConnectedAfter",t),Z(t)}}},Ne=async()=>{if(a.isConnected()&&R&&+a.detail.chainId===+r){let e=await R.getIsStaked(a,R);if(e.bTokens){let t=R.bTokens.map((t=>{if("v2"===o&&"option"!==h)t.staked=e.bTokens.filter((e=>e.bTokenId===t.bTokenId))[0].isStaked;else if("v3"===o||"v3_lite"===o){let a=e.bTokens.filter((e=>e.bTokenSymbol===t.bTokenSymbol));t.staked=!!a.length&&a[0].isStaked}else t.staked=e.isStaked;return t})),a=[],n=[];t.forEach(((e,t)=>{e.staked?a.push(e):n.push(e)})),n.unshift(...a),W(n)}else if("v3"===o||"v3_lite"===o)I(R.bTokens[0].bTokenSymbol);else{let e;Object(d.A)(u)?(e="PANCAKE-LP",I(e)):Object(d.H)(u)?(e="DERI-USDT SLP",I(e)):(I(R.bTokens[0].bTokenSymbol),_(R.bTokens[0].bTokenId))}}else if(R&&R.bTokens.length)if("v3"===o||"v3_lite"===o)I(R.bTokens[0].bTokenSymbol);else{let e;Object(d.A)(u)?(e="PANCAKE-LP",I(e)):Object(d.H)(u)?(e="DERI-USDT SLP",I(e)):(I(R.bTokens[0].bTokenSymbol),_(R.bTokens[0].bTokenId))}};return Object(n.useEffect)((()=>{if(a.detail.chainId&&a.detail.chainId!==r&&a.switchNetwork(J[r]),a.isConnected()){let e=window.setInterval(ye,3e4);return ye(),()=>clearInterval(e)}}),[a.detail.chainId,a.detail.account]),Object(n.useEffect)((()=>{(async()=>{await c.load();let e=c.pools;"lp"===h&&(await c.loadDoubleMingingPool(),e=c.lpPools),"v2_lite_open"===o&&(await c.loadOpen(),e=c.openPools),e=e.filter((e=>e.address===u)),e=e[0];let t=e.symbols.map((e=>{let t=[];return t.push(e.symbol),t}));t=t.join(","),te(t),L(e),$(e.bTokens)})()}),[]),Object(n.useEffect)((()=>{if(H.length&&(v||E)){let e,t={};if("v2"!==o){t=H.filter((e=>e.bTokenSymbol===v))[0]}else if("v2"===o){t=H.filter((e=>e.nowTokenId===E))[0]}ce(t),"v2"===o&&"option"!==h?E&&(e=H.filter((e=>e.bTokenId===E))[0].staked):"lp"!==h&&(e=H.filter((e=>e.bTokenSymbol===v))[0].staked),B(e)}}),[H,v,E]),Object(n.useEffect)((()=>{if(V.length){let e=V[0].bTokenSymbol;Object(d.A)(u)?e="PANCAKE-LP":Object(d.H)(u)&&(e="DERI-USDT SLP");let t=V[0].bTokenId;"v3"===o||"v3_lite"===o?I(e):(I(e),_(t)),$(V)}}),[V]),Object(n.useEffect)((()=>{Se(),ge()}),[E,R,a.detail.account,v,a.detail.chainId]),Object(n.useEffect)((()=>{Ne()}),[R,a.detail.account,a.detail.chainId]),Object(n.useEffect)((()=>{if("v2_lite_open"!==o&&R.rewarded&&Object(d.C)(u)){let e=null;return e=window.setInterval((()=>{let e=28800,a=parseInt(Date.now()/1e3),n=parseInt(a/e)*e,i=n+e-a,c=parseInt(i/3600),s=parseInt(i%3600/60),l=parseInt(i%60);le(n),re(n+e),be(a),je(`${c} ${t.h} ${s} ${t.m} ${l} ${t.s}`)}),1e3),()=>{e&&clearInterval(e)}}}),[R]),Object(m.jsxs)("div",{className:"pool-detail",children:[Object(m.jsx)("div",{className:"back-pool",children:Object(m.jsxs)("div",{className:"icon-back",onClick:()=>{window.history.back(-1)},children:[Object(m.jsx)("img",{alt:"",src:y.default}),Object(m.jsx)("span",{children:t.back})]})}),Object(m.jsxs)("div",{className:"pool-deatail-info",children:[Object(m.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(m.jsxs)("div",{className:"pool-info-text",children:[Object(m.jsxs)("div",{className:"pool-network-type",children:[Object(m.jsx)("div",{className:"network-logo",children:Object(m.jsx)("img",{alt:"",src:(e=>{let t,a=+e;return 56===a||97===a?t=k.default:137===a?t=w.default:1===a?t=S.default:42161!==a&&421611!==a&&421613!==a||(t=N.default),t})(r)})}),Object(m.jsxs)("div",{className:"pool-type-network-text",children:[Object(m.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==u&&Object(m.jsxs)(m.Fragment,{children:[t[R.type]," ",t[R.zone]]}),"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA"===u&&Object(m.jsx)(m.Fragment,{children:"DERI-based"}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===u&&Object(m.jsx)(m.Fragment,{children:t[R.zone]})]}),Object(m.jsx)("div",{className:"pool-network-text",children:"BSC"===fe?"BNB Chain":fe})]})]}),Object(m.jsxs)("div",{className:"pool-des",children:["lp"!==h&&t["amm-pool-des"],"clp"===o&&Object(m.jsxs)(m.Fragment,{children:[t["deri-pancake-pool-one"]," ",Object(m.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://pancakeswap.finance/add/0xe60eaf5A997DFAe83739e035b005A33AfdCc6df5/0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",children:"DERI-BUSD "})," ",t["deri-pancake-pool-two"]]}),"slp"===o&&Object(m.jsx)(m.Fragment,{children:t["deri-sushi-pool"]}),Object(m.jsx)("br",{}),"lp"!==h?Object(m.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-the-amm-liquidity-mining-on-deri-pools-risk-free",children:Object(m.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})}):Object(m.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-dex-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(m.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})})]})]}),Object(m.jsx)(q,{lang:t,pool:R,chainId:r,address:u,checkoutBaseToken:async(e,t)=>{if(E&&e===E||v&&t===v)return!1;let a;a="v3"!==o&&"v3_lite"!==o?R.bTokens.filter((t=>t.bTokenId===e)):R.bTokens.filter((e=>e.bTokenSymbol===t)),Z({}),_(e),ne(""),I(a[0].bTokenSymbol),B()},nowToken:v,bTokenList:H,version:o,type:h})]}),Object(m.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(m.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(m.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==h&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:`btoken-logo ${v}`,children:"v2_lite_open"===o&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("img",{alt:"",onError:e=>{e.target.src=A.default},src:`https://raw.githubusercontent.com/deri-io/deri-open-zone/main/img/${v}.png`})})}),Object(m.jsxs)("div",{className:"manage-stake",children:[Object(m.jsxs)("div",{className:"manage",children:[t.manage," ",v," ",t.liquidity]}),D&&Object(m.jsxs)("div",{className:"stake",children:[Object(m.jsx)("img",{src:C.a,alt:""}),t.staked]})]})]}),"lp"===h&&H.length&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"lp-btoken-logo",children:[Object(m.jsx)("div",{className:`btoken-logo ${H[0].bTokenSymbol}`}),Object(m.jsx)("span",{className:"conect-logo",children:"+"}),Object(m.jsx)("div",{className:`btoken-logo ${H[1].bTokenSymbol}`})]}),Object(m.jsxs)("div",{className:"manage-stake",children:[Object(m.jsxs)("div",{className:"manage",children:[t.manage," ",v," ",t.liquidity]}),D&&Object(m.jsxs)("div",{className:"stake",children:[Object(m.jsx)("img",{src:C.a,alt:""}),t.staked]})]})]})]}),Object(m.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==o&&R.rewarded&&Object(m.jsxs)(m.Fragment,{children:[Object(d.C)(u)&&"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF"!==u&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"deri-num-slider",children:[Object(m.jsx)("div",{className:"deri-cliam-remaining",children:ue}),Object(m.jsx)("div",{className:"deri-claim-slider",children:Object(m.jsx)(U.a,{startTimestamp:se,nowTimestamp:de,endTimestamp:oe})}),Object(m.jsx)("div",{className:"deri-claim-pool-num",children:l("deri-claim-pool-num",{num:+Y.lp?(+Y.lp).toFixed(4):0})})]})}),Object(m.jsx)("div",{className:Object(d.C)(u)&&"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF"!==u?"mining-pool-claim epoch-pool":"mining-pool-claim",children:Object(m.jsxs)("div",{className:"mining-claim-info",children:[Object(m.jsxs)("span",{children:[" ",t["you-have"]]}),Object(m.jsxs)("span",{className:(0===+X?"no-deri":"")+" mining-pool-num",onClick:async()=>{if(0===+X)return void x.error(t["no-deri-to-claim-yet"]);if(Object(d.C)(u)){if(parseInt(Date.now()/1e3)%28800<1800)return void x.error(t["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"])}he(!0);let e=await j.a.request("claimReward",[a.detail.chainId,u,a.detail.account],{includeResponse:!0,write:!0,subject:t["claim-deri-title"],title:{text:"Claim Deri",icon:"DERI"},content:{success:t["claim-deri-reward"],error:t["transaction-failed"]}});return ye(),he(!1),e.success?(G(0),!0):void 0},children:[pe&&Object(m.jsx)(P.a,{}),Object(m.jsx)(b.a,{firstTime:!1,value:X,decimalScale:2}),Object(m.jsx)("img",{src:T.a,alt:"deri"})]}),Object(m.jsx)("span",{children:t["claim-in-pool"]})]})})]})})]}),Object(m.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(m.jsx)(F,{wallet:a,nowApy:ie,poolInfo:K,chainId:r,address:u,nowToken:v,lang:t,version:o,type:h,poolConfig:R,symbols:ee}),Object(m.jsx)("div",{className:"add-remove-liquidity",children:Object(m.jsx)(O.a,{tabSet:we,iconMarginRight:"20",width:379,size:18,inactiveBgColor:"#0c192d",icon:"",activeIndex:xe,borderBottom:!0,divider:!0})})]})]})]}),("v3"===o||"v3_lite"===o)&&Object(m.jsx)(M,{address:u,chainId:r})]})})))}}]);
//# sourceMappingURL=18.7e8e7c23.chunk.js.map